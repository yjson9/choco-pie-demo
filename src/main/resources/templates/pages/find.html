<!DOCTYPE html>
<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{common/layouts/onepageLayout}"
  layout:fragment="Content"
>
  <body>
    <div class="d-flex justify-content-center align-items-center">
      <div class="card p-5" style="width: 500px">
        <h2 class="text-center"><strong>아이디 / 비밀번호 찾기</strong></h2>
        <!-- 탭 메뉴 -->
        <ul class="nav nav-tabs mt-3" id="findTab" role="tablist">
          <li class="nav-item" role="presentation">
            <button
              class="nav-link active"
              id="find-id-tab"
              data-bs-toggle="tab"
              data-bs-target="#find-id"
              type="button"
              role="tab"
              aria-controls="find-id"
              aria-selected="true"
            >
              아이디 찾기
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="find-password-tab"
              data-bs-toggle="tab"
              data-bs-target="#find-password"
              type="button"
              role="tab"
              aria-controls="find-password"
              aria-selected="false"
            >
              비밀번호 찾기
            </button>
          </li>
        </ul>

        <!-- 탭 내용 -->
        <div class="tab-content mt-3" id="findTabContent">
          <!-- 아이디 찾기 -->
          <div class="tab-pane fade show active" id="find-id" role="tabpanel" aria-labelledby="find-id-tab">
            <form id="findIdForm" name="findIdForm" onsubmit="return false;">
              <div class="mb-3">
                <label for="name" class="form-label">이름</label>
                <input
                  type="text"
                  class="form-control"
                  id="name"
                  name="name"
                  placeholder="가입한 이름을 입력하세요."
                  data-validate="required pattern"
                  data-pattern="name"
                />
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">이메일</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  name="email"
                  placeholder="가입한 이메일을 입력하세요."
                  data-validate="required pattern"
                  data-pattern="email"
                />
              </div>
              <button type="button" class="btn btn-dark w-100" onclick="findId();">아이디 찾기</button>
              <div class="text-center mt-2">
                <a href="/login" class="text-black-50">로그인</a>
              </div>
            </form>
          </div>

          <!-- 비밀번호 찾기 -->
          <div class="tab-pane fade" id="find-password" role="tabpanel" aria-labelledby="find-password-tab">
            <form id="findPasswordForm" name="findPasswordForm" onsubmit="return false;">
              <div class="mb-3">
                <label for="loginId" class="form-label">아이디</label>
                <input
                  type="text"
                  class="form-control"
                  id="loginId"
                  name="loginId"
                  placeholder="가입한 아이디를 입력하세요."
                  data-validate="required length pattern"
                  data-min="5"
                  data-max="20"
                  data-pattern="loginId"
                />
              </div>
              <div class="mb-3">
                <label for="name" class="form-label">이름</label>
                <input
                  type="text"
                  class="form-control"
                  id="name"
                  name="name"
                  placeholder="가입한 이름을 입력하세요."
                  data-validate="required pattern"
                  data-pattern="name"
                />
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">이메일</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  name="email"
                  placeholder="가입한 이메일을 입력하세요."
                  data-validate="required pattern"
                  data-pattern="email"
                />
              </div>
              <button type="button" class="btn btn-dark w-100" onclick="findPw();">비밀번호 찾기</button>
              <div class="text-center mt-2">
                <a href="/login" class="text-black-50">로그인</a>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- 아이디 찾기 결과 모달 -->
    <div id="findIdResultModal" class="modal fade" tabindex="-1" aria-labelledby="findIdResultLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="findIdResultLabel"><strong>아이디 찾기</strong></h5>
          </div>
          <div class="modal-body text-center" id="findIdResult"></div>
          <div class="modal-footer">
            <a href="/login" class="btn btn-dark w-100">로그인하러 가기</a>
            <a href="javascript:findPwTab();" class="btn btn-secondary w-100" id="findPwTabBtn">비밀번호 찾기</a>
          </div>
        </div>
      </div>
    </div>

    <script th:src="@{/js/find.js}"></script>
  </body>
</html>
